README - NewCheck
 VisÃ£o Geral

O NewCheck Ã© um sistema de agendamento de consultas mÃ©dicas composto por:

Aplicativo (React Native + Expo) â†’ interface do paciente e mÃ©dico

API (Node.js + Express + MySQL) â†’ lÃ³gica de autenticaÃ§Ã£o, mÃ©dicos, pacientes e consultas

Banco de Dados (MySQL) â†’ persistÃªncia de dados

Docker Compose â†’ sobe tudo com um Ãºnico comando

  Tecnologias

Frontend Mobile: React Native (Expo)

Backend API: Node.js + Express

Banco: MySQL 8

AutenticaÃ§Ã£o: JWT

ValidaÃ§Ãµes: Yup + utilitÃ¡rios prÃ³prios

Mapa/LocalizaÃ§Ã£o: react-native-maps + expo-location

ðŸ“‚ Estrutura do Projeto
.
â”‚ docker-compose.yml
â”‚ README.md
â”‚
â”œâ”€â”€ newcheck-expo-v5.6/        # App (React Native + Expo)
â”‚   â”œâ”€â”€ App.js
â”‚   â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ utils/
â”‚   â””â”€â”€ config/
â”‚
â””â”€â”€ newcheck-api-v5.6/         # API (Node.js + Express + MySQL)
    â”œâ”€â”€ server.js
    â”œâ”€â”€ db.js
    â”œâ”€â”€ routes/
    â”œâ”€â”€ sql/
    â””â”€â”€ .env.example

  Rodando com Docker (recomendado)
1. PrÃ©-requisitos

Docker + Docker Compose instalados

2. Subir tudo

Na raiz do projeto:

docker-compose up --build

3. ServiÃ§os

MySQL â†’ porta 3306 (banco: sistema_agendamento)

API â†’ porta 3000 (http://localhost:3000)

Scripts SQL sÃ£o executados automaticamente em newcheck-api-v5.6/sql:

init_db.sql â†’ cria tabelas

alter_add_lat_long.sql â†’ adiciona latitude/longitude

seed_medicos.sql â†’ insere mÃ©dico/cliente de teste

Rodando o App (Expo)

1. PrÃ©-requisitos

Node.js LTS

Expo CLI (npm install -g expo-cli ou usar npx expo)

2. Instalar dependÃªncias
cd newcheck-expo-v5.6
npm install

3. Iniciar
EXPO_PUBLIC_API_HOST="http://10.0.2.2:3000" npm start   # em emulador Android

EXPO_PUBLIC_API_HOST="http://SEU_IP_LOCAL:3000" npm start   # em dispositivo fÃ­sico

4. Testar

Acesse pelo QR Code gerado no terminal ou no app Expo Go

Login/Cadastro â†’ cria usuÃ¡rio paciente ou mÃ©dico

Solicitar Consulta â†’ agenda com calendÃ¡rio, mÃ©dico disponÃ­vel, horÃ¡rio e local no mapa

ðŸ”‘ Endpoints principais da API
AutenticaÃ§Ã£o Cliente

POST /api/auth/cliente/register â†’ cadastra cliente

POST /api/auth/cliente/login â†’ login

AutenticaÃ§Ã£o MÃ©dico

POST /api/auth/medico/register â†’ cadastra mÃ©dico

POST /api/auth/medico/login â†’ login

MÃ©dicos

GET /api/medicos/disponiveis?data=YYYY-MM-DD

Consultas

POST /api/consultas (JWT obrigatÃ³rio)

GET /api/consultas?cpf=123...&crm=CRM123...

GET /api/consultas/horarios?data=YYYY-MM-DD&crm=CRM12345

ðŸ”§ Modo Local (sem Docker)
1. Criar banco manualmente
mysql -u root -p < newcheck-api-v5.6/sql/init_db.sql
mysql -u root -p < newcheck-api-v5.6/sql/seed_medicos.sql

2. Configurar .env

ajuste de credenciais

3. Rodar API
cd newcheck-api-v5.6
npm install
npm run dev

4. Rodar App (igual explicado acima)
ðŸ‘¤ UsuÃ¡rios de teste

ApÃ³s rodar seed_medicos.sql, vocÃª terÃ¡:

MÃ©dico:

CRM: CRM12345

Senha: Cadastro via API

Cliente:

CPF: 12345678900

Senha: Cadastro via API

Status:

 Cadastro/Login clientes e mÃ©dicos

 Agendamento com data, mÃ©dico, tipo, horÃ¡rio, preÃ§o e local no mapa

 JWT + validaÃ§Ã£o de campos

 Docker Compose funcional
